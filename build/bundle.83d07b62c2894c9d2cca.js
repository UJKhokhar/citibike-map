webpackJsonp([1],{141:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var o=a(3),i=n(o),r=a(82),s=n(r),u=a(60),l=a(39),c=a(117),f=n(c),d=a(263),p=n(d),y=a(305),_=n(y),v=(0,l.applyMiddleware)(f.default)(l.createStore);s.default.render(i.default.createElement(u.Provider,{store:v(_.default)},i.default.createElement("div",null,i.default.createElement(p.default,null))),document.querySelector(".container"))},263:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return{stations:t.stations}}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),l=a(3),c=n(l),f=a(60),d=a(119),p=n(d),y=a(125),_=n(y),v=a(6),h=n(v),b=a(66),T=(0,p.default)({accessToken:"pk.eyJ1IjoidW1vIiwiYSI6ImNqNjU0bTNoNjF5NDczM3A4eHFuMTBiMXgifQ.LJoaUT85C0dkAZDNYjhRYQ"}),S={fetchStations:h.default.func.isRequired,fetchStationStatus:h.default.func.isRequired,stations:h.default.shape({station_status:h.default.array,stations:h.default.array})},m={stations:[{}]},O=function(t){function e(t){o(this,e);var a=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.stationClick=function(t){var e=a.getStationStatus(t);a.setState({center:[t.lon,t.lat],zoom:[14],station:{id:t.station_id,name:t.name,lat:t.lat,lon:t.lon,bikes_available:e.num_bikes_available,docks_available:e.num_docks_available}})},a.state={center:[-74.0059,40.7128],zoom:[11],station:null,style:"mapbox://styles/mapbox/streets-v9"},a}return r(e,t),u(e,[{key:"componentWillMount",value:function(){this.props.fetchStations(),this.props.fetchStationStatus()}},{key:"getStationStatus",value:function(t){return _.default.find(this.props.stations.station_status,function(e){return e.station_id===t.station_id})}},{key:"renderStations",value:function(){var t=this;return _.default.map(this.props.stations.stations,function(e){return c.default.createElement(d.Feature,{station:e,coordinates:[e.lon,e.lat],key:e.station_id,onClick:t.stationClick.bind(t,e)})})}},{key:"render",value:function(){return c.default.createElement(T,{style:this.state.style,center:this.state.center,zoom:this.state.zoom,containerStyle:{height:"100vh",width:"100vw"}},c.default.createElement(d.Layer,{type:"symbol",id:"station",layout:{"icon-image":"bicycle-share-15"}},this.renderStations()),null!=this.state.station&&c.default.createElement(d.Popup,{key:this.state.station.station_id,offset:[0,-50],coordinates:[this.state.station.lon,this.state.station.lat]},c.default.createElement("div",null,this.state.station.name),c.default.createElement("div",null,"Bikes: ",this.state.station.bikes_available),c.default.createElement("div",null,"Docks: ",this.state.station.docks_available)))}}]),e}(l.Component);O.propTypes=S,O.defaultProps=m,e.default=(0,f.connect)(s,{fetchStations:b.fetchStations,fetchStationStatus:b.fetchStationStatus})(O)},305:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(39),i=a(306),r=n(i),s=a(307),u=n(s),l=(0,o.combineReducers)({stations:r.default,routes:u.default});e.default=l},306:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t};e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];switch(e.type){case o.FETCH_STATIONS:var a=e.payload.data;return n({},t,{stations:a.data.stations});case o.FETCH_STATION_STATUS:var i=e.payload.data;return n({},t,{station_status:i.data.stations});default:return t}};var o=a(66)},307:function(t,e,a){"use strict";function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t};e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];switch(e.type){case i.FETCH_ROUTE:var a=e.payload.data;return o({},t,n({},a.uuid,{coords:a.routes[0].geometry.coordinates,trip:e.meta.trip}));default:return t}};var i=a(66)},66:function(t,e,a){"use strict";function n(){var t=s.default.get("https://gbfs.citibikenyc.com/gbfs/en/station_information.json");return{type:u,payload:t}}function o(){var t=s.default.get("https://gbfs.citibikenyc.com/gbfs/en/station_status.json");return{type:l,payload:t}}function i(t){var e=s.default.get(f+"/"+t["start station longitude"]+","+t["start station latitude"]+";"+t["end station longitude"]+","+t["end station latitude"]+"?access_token="+d+"&geometries=geojson");return{type:c,payload:e,meta:{trip:t}}}Object.defineProperty(e,"__esModule",{value:!0}),e.FETCH_ROUTE=e.FETCH_STATION_STATUS=e.FETCH_STATIONS=void 0,e.fetchStations=n,e.fetchStationStatus=o,e.fetchTripRoute=i;var r=a(126),s=function(t){return t&&t.__esModule?t:{default:t}}(r),u=e.FETCH_STATIONS="FETCH_STATIONS",l=e.FETCH_STATION_STATUS="FETCH_STATIONS_STATUS",c=e.FETCH_ROUTE="FETCH_ROUTE",f="https://api.mapbox.com/directions/v5/mapbox/cycling",d="pk.eyJ1IjoidW1vIiwiYSI6ImNqNjU0bTNoNjF5NDczM3A4eHFuMTBiMXgifQ.LJoaUT85C0dkAZDNYjhRYQ"}},[141]);